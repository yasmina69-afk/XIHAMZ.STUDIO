<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Player</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="player-active-bg" style="background-image: url('bg.png'); background-size: cover; background-position: center;"></body>
<body onclick="enablePreviewAudio()" style="cursor: pointer;"></body>

<body class="player-active-bg">
  <section id="playerPage" class="page active">
    <button onclick="window.location.href='HAMZ.HTML'" class="back-btn">â¬… Kembali</button>
    <div class="music-player-container">
      <div class="music-player-box">
        <div class="player-header">
          <img id="albumArt" class="album-art-player" src="" alt="Cover">
          <div class="track-info-player">
            <div class="track-title-wrapper">
              <h2 id="playerTrackTitle"></h2>
                <p id="playerTrackArtist"></p>
            </div>
          </div>
        </div>

        <div id="lyricsContainer" class="lyrics-container"></div>

        <div class="player-controls">
          <div class="progress-section-player">
            <div id="playerProgressBarContainer" class="progress-bar-container-player">
              <div id="playerProgressBar" class="progress-bar-player"></div>
            </div>
            <div class="time-display-player">
              <span id="playerCurrentTime">0:00</span>
              <span id="playerTotalDuration">0:00</span>
            </div>
          </div>

          <div class="main-controls-player">
        <button id="playerPrevBtn" class="control-btn-player" title="Sebelumnya">
  <i class="fas fa-backward"></i>
        </button>
        <button id="playerPlayPauseBtn" class="control-btn-player play-pause-player" title="Putar / Jeda">
        <i class="fas fa-play"></i> <!-- Ini akan diganti JS -->
        </button>
        <button id="playerNextBtn" class="control-btn-player" title="Berikutnya">
        <i class="fas fa-forward"></i>
        </button>
          </div>

          <div class="secondary-controls-player">
            <div class="volume-control-player">
            <span class="volume-icon-player" title="Volume"><i class="fas fa-volume-up"></i></span>
              <input type="range" id="playerVolumeSlider" class="volume-slider-player" min="0" max="1" step="0.01" value="1">
            </div>
            <div class="playback-speed-control">
            <span class="speed-icon"><i class="fas fa-person-running"></i></span>
              <input type="range" id="playerSpeedSlider" class="speed-slider" min="0.5" max="2" step="0.1" value="1">
              <span id="currentSpeedDisplay">1.00x</span>
            </div>
            <button id="playerShuffleBtn" class="control-btn-player small-icon" title="Shuffle">
                <i class="fas fa-random"></i>
            </button>
            <button id="playerRepeatBtn" class="control-btn-player small-icon" title="Repeat">
                 <i class="fas fa-repeat"></i>
            </button>
          </div>
        </div>
            <p class="footer-credit">//code by: @Hamz</p>
      </div>
    </div>
  </section>

  <div class="video-background-container active">
    <video id="backgroundVideo" loop autoplay muted>
        <source src="" type="video/mp4">
    </video>
  </div>
  <audio id="audioPlayer"></audio>
  <script src="script.js"></script>
  <script>
    function getQueryParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    const songParam = getQueryParam('song');
    if (songParam !== null) {
      const index = parseInt(songParam);
      if (!isNaN(index)) {
        currentSongIndex = index;
        loadSong(songs[currentSongIndex]);
        // memberi sedikit delay agar audio siap
        showPlayerPage();
      }
    }
  </script>
  
</body>
</html>
